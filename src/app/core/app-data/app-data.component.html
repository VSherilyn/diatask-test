<div class="c-data">
  <div class="container">
    <h2>Tasks: {{(appDataService.tasksStream | async).length}}</h2>
    <table>
      <tr>
        <th></th>
        <th>Date</th>
        <th>Status</th>
        <th>ETA</th>
        <th>Title</th>
        <th>Description</th>
        <th>Priority</th>
      </tr>
      <tr *ngFor="let task of (appDataService.tasksStream | async); let $index = index">
        <td>{{$index + 1}}.</td>
        <td>{{task.create_date}}</td>
        <td>{{task.state}}</td>
        <td>{{task.estimate}}</td>
        <td>{{task.title}}</td>
        <td>{{task.description}}</td>
        <td>{{task.priority}}</td>
      </tr>
    </table>
    <form #newTaskForm="ngForm" (ngSubmit)="addNewTask(newTaskForm)">
      <fieldset>
        <label for="estimate">Estimate:</label>
        <input
          type="text"
          id="estimate"
          name="estimate"
          placeholder="Estimate..."
          ngModel
        >
      </fieldset>
      <fieldset>
        <label for="title">Title:</label>
        <input
          type="text"
          id="title"
          name="title"
          placeholder="Title..."
          ngModel
        >
      </fieldset>
      <fieldset>
        <label for="priority">Priority:</label>
        <select
          id="priority"
          name="priority"
          ngModel
        >
          <option value="0">Low</option>
          <option value="10">Medium</option>
          <option value="20">High</option>
        </select>
      </fieldset>
      <fieldset class="textarea-field">
        <label for="description">Description:</label>
        <textarea id="description" name="description" ngModel></textarea>
      </fieldset>
      <button type="submit">Add</button>
    </form>
  </div>
</div>